<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PrintVue Gallery</title>
  </head>
  <body>
    <video style="width: 100%" id="myVideoPlayer" controls src=""></video>
    <script>
      const videoPlayer = document.getElementById("myVideoPlayer");

      // Function to download and display a frame
      function displayFrame(index) {
        console.log('Show frame: ', index);
        const imageUrl = `gallery/s0/${index}.jpg`; // Assuming frame naming pattern
        const image = new Image();
        image.onload = () => {
          videoPlayer.appendChild(image); // Add to video player
        };
        image.src = imageUrl;
      }

      // Start with the first frame
      displayFrame(18);

      // Event listener for play button
      videoPlayer.addEventListener("play", () => {
        console.log('Play Button pressed');
        let currentFrame = 18;
        const intervalId = setInterval(() => {
          displayFrame(currentFrame++);
        }, 40); // Adjust interval for desired frame rate

        // Event listener for seeking
        videoPlayer.addEventListener("seeked", () => {
          currentFrame = Math.round(videoPlayer.currentTime / 0.04); // Adjust based on interval
          displayFrame(currentFrame);
        });
      });
    </script>
  </body>
</html>
